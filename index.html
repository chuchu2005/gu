<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guessing Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
        }
        .row {
            display: flex;
            justify-content: center;
            margin: 10px 0;
        }
        .cell {
            width: 50px;
            height: 50px;
            border: 1px solid #000;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 5px;
            font-size: 20px;
            cursor: pointer;
        }
        .hidden {
            background-color: #ccc;
        }
        .revealed {
            background-color: #fff;
        }
        .chances {
            margin: 20px;
        }
        .balance {
            margin: 20px;
        }
        #guessForm {
            margin: 20px;
        }
        #guessForm input {
            width: 40px;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Guess the Numbers</h1>
        <div class="row" id="hiddenNumbers">
            <div class="cell hidden" id="hidden1" data-number=""></div>
            <div class="cell hidden" id="hidden2" data-number=""></div>
            <div class="cell hidden" id="hidden3" data-number=""></div>
        </div>
        <div class="chances">
            Chances: <span id="chances">3</span>
        </div>
        <div class="balance">
            Balance: Â£<span id="balance">10.00</span>
        </div>
        <div class="row">
            <div class="cell revealed" id="number1">1</div>
            <div class="cell revealed" id="number2">2</div>
            <div class="cell revealed" id="number3">3</div>
        </div>
        <div class="row">
            <div class="cell revealed" id="number4">4</div>
            <div class="cell revealed" id="number5">5</div>
            <div class="cell"></div>
        </div>
        <div id="result"></div>
    </div>

    <script>
        const num1 = Math.floor(Math.random() * 5) + 1;
        const num2 = Math.floor(Math.random() * 5) + 1;
        const num3 = Math.floor(Math.random() * 5) + 1;
        const numbers = [num1, num2, num3];
        console.log('Generated numbers:', numbers);

        let trialsLeft = 3;
        let balance = 10.00;

        document.getElementById('guessForm').addEventListener('submit', function(event) {
            event.preventDefault();
        });

        document.querySelectorAll('.cell.revealed').forEach(cell => {
            cell.addEventListener('click', function() {
                if (trialsLeft <= 0) {
                    document.getElementById('result').innerText = "No trials left. You've lost the game.";
                    return;
                }
                
                const guess = parseInt(cell.innerText);
                const hiddenCells = document.querySelectorAll('.cell.hidden');
                let correctCount = 0;

                hiddenCells.forEach((hiddenCell, index) => {
                    const hiddenNumber = parseInt(hiddenCell.dataset.number);
                    if (guess === hiddenNumber) {
                        hiddenCell.innerText = guess;
                        hiddenCell.classList.remove('hidden');
                        hiddenCell.classList.add('revealed');
                        correctCount++;
                    }
                });

                if (correctCount === 0) {
                    trialsLeft--;
                    balance -= 4.00;
                    document.getElementById('result').innerText = "Incorrect guess!";
                } else {
                    document.getElementById('result').innerText = `Correct guess! ${correctCount} out of 3 numbers are correct.`;
                }

                document.getElementById('chances').innerText = trialsLeft;
                document.getElementById('balance').innerText = balance.toFixed(2);

                if (correctCount === 3) {
                    document.getElementById('result').innerText = "Congratulations! You've won!";
                    document.querySelectorAll('.cell.revealed').forEach(cell => {
                        cell.removeEventListener('click');
                    });
                }

                if (trialsLeft <= 0 && correctCount < 3) {
                    document.getElementById('result').innerText += " No trials left. You've lost the game.";
                    document.querySelectorAll('.cell.revealed').forEach(cell => {
                        cell.removeEventListener('click');
                    });
                }
            });
        });
    </script>
</body>
</html>
